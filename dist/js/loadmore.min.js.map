{"version":3,"file":"loadmore.min.js","sources":["loadmore.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\n/*\r\n\t\r\n@package gsc\r\n\r\n*/\nconsole.log('load more');\njQuery(function ($) {\n  // use jQuery code inside this to avoid \"$ is not defined\" error\n  $('.loadmore').click(function (e) {\n    e.preventDefault();\n    console.log('click');\n    var button = $(this),\n        total = button.data('max'),\n        current = button.data('current'),\n        data = {\n      'action': 'loadmoregeneric',\n      'page': current,\n      'max': total,\n      'nonce': ajax_var.check_nonce\n    };\n    $.ajax({\n      type: \"POST\",\n      dataType: \"html\",\n      url: ajax_var.url,\n      data: data,\n      beforeSend: setOverlay(true),\n      success: function success(data) {\n        if (data) {\n          $(\".product-catalogue-item__container\").append(data);\n          setOverlay(false);\n          ajax_var.current_page++;\n          button.attr(\"disabled\", false);\n          var scrollPos = 12 * current;\n          current = current + 1;\n          console.log(scrollPos + 1);\n          var scrollItem = document.querySelector('.product-catalogue-item:nth-child(' + scrollPos + ')');\n          console.log(scrollItem);\n          scrollItem.scrollIntoView({\n            block: \"nearest\"\n          });\n          button.data('current', current);\n\n          if (current == total) {\n            console.log('reached');\n            /* $('.loadmore').attr('disabled');\r\n            $('.loadmore').addClass('disabled'); */\n\n            button.hide();\n          }\n        } else {\n          alert('You reached the end!');\n          button.hide();\n        }\n      },\n      error: function error(jqXHR, textStatus, errorThrown) {\n        console.log('error');\n      }\n    });\n    return false;\n  });\n});\n\nfunction setOverlay(state) {\n  if (state === true) {\n    jQuery('.scale').addClass('scaleOut');\n    jQuery('.scale').removeClass('scaleIn');\n    jQuery('#overlay').addClass('show');\n    jQuery('#overlay').removeClass('hide');\n  } else {\n    jQuery('#overlay').removeClass('show');\n    jQuery('#overlay').addClass('hide');\n    jQuery('.scale').addClass('scaleIn');\n    jQuery('.scale').removeClass('scaleOut');\n  }\n}\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","setOverlay","state","jQuery","addClass","removeClass","console","log","$","click","preventDefault","button","this","total","data","current","action","page","max","nonce","ajax_var","check_nonce","ajax","type","dataType","url","beforeSend","success","append","current_page","attr","scrollPos","scrollItem","document","querySelector","scrollIntoView","block","hide","alert","error","jqXHR","textStatus","errorThrown"],"mappings":"CAAY,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAE,mBAAmBC,SAASA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAkD,MAA1CK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,MAAaO,KAAK,mBAAmBF,EAAMG,EAAEX,EAAEG,GAAG,CAACS,QAAQ,IAAIb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAQ,IAAI,IAAIL,EAAE,mBAAmBD,SAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAA7b,CAA4c,CAACa,EAAE,CAAC,SAAST,EAAQU,EAAOJ,gBAiExe,SAASK,EAAWC,IACJ,IAAVA,GACFC,OAAO,UAAUC,SAAS,YAC1BD,OAAO,UAAUE,YAAY,WAC7BF,OAAO,YAAYC,SAAS,QAC5BD,OAAO,YAAYE,YAAY,UAE/BF,OAAO,YAAYE,YAAY,QAC/BF,OAAO,YAAYC,SAAS,QAC5BD,OAAO,UAAUC,SAAS,WAC1BD,OAAO,UAAUE,YAAY,aAnEjCC,QAAQC,IAAI,aACZJ,OAAO,SAAUK,GAEfA,EAAE,aAAaC,MAAM,SAAU1B,GAC7BA,EAAE2B,iBACFJ,QAAQC,IAAI,SACZ,IAAII,EAASH,EAAEI,MACXC,EAAQF,EAAOG,KAAK,OACpBC,EAAUJ,EAAOG,KAAK,WACtBA,EAAO,CACTE,OAAU,kBACVC,KAAQF,EACRG,IAAOL,EACPM,MAASC,SAASC,aAwCpB,OAtCAb,EAAEc,KAAK,CACLC,KAAM,OACNC,SAAU,OACVC,IAAKL,SAASK,IACdX,KAAMA,EACNY,WAAYzB,GAAW,GACvB0B,QAAS,SAAiBb,GACpBA,GACFN,EAAE,sCAAsCoB,OAAOd,GAC/Cb,GAAW,GACXmB,SAASS,eACTlB,EAAOmB,KAAK,YAAY,GACpBC,EAAY,GAAKhB,EACrBA,GAAoB,EACpBT,QAAQC,IAAgB,EAAZwB,GACRC,EAAaC,SAASC,cAAc,qCAAuCH,EAAY,KAC3FzB,QAAQC,IAAIyB,GACZA,EAAWG,eAAe,CACxBC,MAAO,YAETzB,EAAOG,KAAK,UAAWC,GAEnBA,GAAWF,IACbP,QAAQC,IAAI,WAIZI,EAAO0B,UAGTC,MAAM,wBACN3B,EAAO0B,SAGXE,MAAO,SAAeC,EAAOC,EAAYC,GACvCpC,QAAQC,IAAI,aAGT,OAkBT,KAAK,GAAG,CAAC"}